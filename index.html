<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Frontend Mentor | Interactive rating component</title>
    <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png" />
    <link rel="stylesheet" href="src/output.css" />
</head>

<body class="bg-[#1E1E1E] flex items-center justify-center min-h-screen">
    <!-- Card -->
    <div class="w-[412px] h-[416px] rounded-2xl bg-gradient-to-b from-blackG to-veryDarkBlue p-8" id="modal">
        <div class="rounded-full bg-darkBlue p-4 w-12 h-12">
            <img src="./images/icon-star.svg" alt="" />
        </div>
    
        <!-- Rating state start -->
        <form id="rating-form">
            <h1 class="text-white text-3xl pt-8 pb-4">How did we do?</h1>
    
            <p class="text-lightGray text-md">
                Please let us know how we did with your support request. All
                feedback is appreciated to help us improve our offering!
            </p>
    
            <!-- Button Group -->
            <div class="flex justify-between py-6">
                <label
                    class="flex items-center justify-center text-white font-bold p-4 rounded-full bg-darkBlue w-12 h-12 cursor-pointer hover:bg-orange  ">
                    <input type="radio" name="rating" value="1" class="hidden peer" />
                    <span>1</span>
                </label>
                <label
                    class="flex items-center justify-center text-white font-bold p-4 rounded-full bg-darkBlue w-12 h-12 cursor-pointer hover:bg-orange  ">
                    <input type="radio" name="rating" value="2" class="hidden peer" />
                    <span>2</span>
                </label>
                <label
                    class="flex items-center justify-center text-white font-bold p-4 rounded-full bg-darkBlue w-12 h-12 cursor-pointer hover:bg-orange  ">
                    <input type="radio" name="rating" value="2" class="hidden peer" />
                    <span>3</span>
                </label>
                <label
                    class="flex items-center justify-center text-white font-bold p-4 rounded-full bg-darkBlue w-12 h-12 cursor-pointer hover:bg-orange  ">
                    <input type="radio" name="rating" value="2" class="hidden peer" />
                    <span>4</span>
                </label>
                <label
                    class="flex items-center justify-center text-white font-bold p-4 rounded-full bg-darkBlue w-12 h-12 cursor-pointer hover:bg-orange  ">
                    <input type="radio" name="rating" value="2" class="hidden peer" />
                    <span>5</span>
                </label>
    
            </div>
    
            <div class="w-full">
                <button type="submit" onclick="submitForm()"
                    class="w-full bg-orange text-veryDarkBlue rounded-full font-bold py-3 uppercase tracking-wider hover:bg-white">
                    Submit
                </button>
                <div id="error-message">
    
                </div>
            </div>
    
    
    
        </form>
    </div>
    <footer>
        <script>
            // dom loaded 
            document.addEventListener('DOMContentLoaded', () => {

                // onclick label
                document.querySelectorAll('label').forEach(function (label) {
                    label.addEventListener('click', function () {
                        handleClick(this);
                    });
                });
            });


            function handleClick(label) {
                document.querySelectorAll('label').forEach(function (label) {
                    label.classList.remove('active');
                });
                label.classList.add('active');
            }

            function submitForm() {
                event.preventDefault();
                // get value of selected radio button
                let rating = document.querySelector('label.active');
                // check if rating html element is selected 
                if (rating === null) {
                    // append error message after button 
                    let errorDiv = document.getElementById('error-message');
                    errorDiv.innerHTML = '<p class="text-white w-full text-center py-2"> Please select a rating </p>';
                } else {
                    rating = rating.firstElementChild.getAttribute('value');
                    generateThankYou(rating);
                }
            }


            function generateThankYou(rating) {
                document.getElementById('modal').innerHTML = '';
                document.getElementById('modal').innerHTML = `
            <div class="w-full flex justify-center p-4 my-3 ">
              <img src="./images/illustration-thank-you.svg" alt="" />
             </div>

            <p class="text-orange w-fit m-auto py-1 px-6 bg-blackG rounded-full">
                You selected <span id="rating-user"> </span> out of 5
            </p>

        <!-- thank message -->
        <div>
            <h1 class="text-white text-3xl pt-8 pb-4 text-center">Thank you!</h1>

            <p class="text-lightGray text-md text-center">
                Please let us know how we did with your support request. All
                feedback is appreciated to help us improve our offering!
            </p>
        </div>
                 `;

                document.getElementById('rating-user').innerHTML = rating;
            }
        </script>
    </footer>
</body>

</html>

<!-- Rating state end -->

<!-- Thank you state start -->
<!-- You selected -->
<!-- Add rating here -->
<!-- out of 5 Thank you! We appreciate you taking the time to give a
				rating. If you ever need more support, donâ€™t hesitate to get in
				touch! -->

<!-- Thank you state end -->

<!-- <div class="attribution">
					Challenge by
					<a
						href="https://www.frontendmentor.io?ref=challenge"
						target="_blank"
						>Frontend Mentor</a
					>. Coded by <a href="#">Your Name Here</a>.
				</div> -->